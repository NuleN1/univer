<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Мой отзывчивый сайт</title>
  <style>
    /* Базовые стили для мобильной версии (mobile-first) */
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    .container {
      display: grid;
      grid-template-columns: 1fr; /* одна колонка */
      gap: 10px; /* зазор между колонками и строками */
      padding: 10px;
    }

    figure {
      background-color: #fff;
      border: 2px solid #ccc;
      border-radius: 8px; /* округлые углы для фигур */
      padding: 10px;
    }

    figcaption {
      font-size: 1rem;
      color: #333;
    }

    /* Планшетный вид - срабатывает при ширине 772px */
    @media screen and (min-width: 772px) {
      .container {
        grid-template-columns: 1fr 1fr; /* две колонки */
      }

      figure {
        border-radius: 16px; /* более округлые углы */
      }

      /* Последняя фигура займет обе колонки */
      figure:last-of-type {
        grid-column: span 2;
      }
    }

    /* Большой экран - срабатывает при ширине 992px */
    @media screen and (min-width: 992px) {
      .container {
        grid-template-columns: repeat(3, 1fr); /* три колонки */
      }

      /* Каждый третий элемент занимает две колонки */
      figure:nth-of-type(3n) {
        grid-column: span 2;
      }

      figure {
        border-radius: 0; /* убираем радиус */
      }
    }

    /* Медиа-запрос для prefers-reduced-motion */
    @media (prefers-reduced-motion: reduce) {
      /* Убираем прокрутку или анимации */
      body {
        scroll-behavior: auto;
      }

      .scrolling-element {
        animation: none;
      }
    }

    /* Медиа-запрос для темной темы */
    @media (prefers-color-scheme: dark) {
      figure {
        background-color: #333; /* темный фон */
        color: #f0e68c; /* светлый (желтоватый) цвет текста */
        border-color: #000; /* черный цвет границы */
      }
    }
  </style>
</head>
<body>

  <div class="container">
    <figure>
      <img src="image1.jpg" alt="Описание изображения 1">
      <figcaption>Это изображение номер 1.</figcaption>
    </figure>

    <figure>
      <img src="image2.jpg" alt="Описание изображения 2">
      <figcaption>Это изображение номер 2.</figcaption>
    </figure>

    <figure>
      <img src="image3.jpg" alt="Описание изображения 3">
      <figcaption>Это изображение номер 3.</figcaption>
    </figure>

    <figure>
      <img src="image4.jpg" alt="Описание изображения 4">
      <figcaption>Это изображение номер 4.</figcaption>
    </figure>
  </div>

  <p>
    Это новый текст, который заменил старый текст в абзаце. Он отображается на всех версиях сайта.
  </p>

</body>
</html>
